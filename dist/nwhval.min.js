/*! Copyright 2022 NiWee Productions. */(()=>{"use strict";var r={"./src/_lang.js":
/*!**********************!*\
  !*** ./src/_lang.js ***!
  \**********************/(e,t,r)=>{r.r(t),r.d(t,{lang:()=>i});var i={en:{required:"This field is required",email:"This field requires a valid e-mail address",number:"This field requires a number",integer:"This field requires an integer value",url:"This field requires a valid website URL",tel:"This field requires a valid telephone number",maxlength:"This fields length must be < ${1}",minlength:"This fields length must be > ${1}",min:"Minimum value for this field is ${1}",max:"Maximum value for this field is ${1}",pattern:"Please match the requested format"},fr:{required:"Ce champ est obligatoire",email:"Ce champ requiert une adresse e-mail valide",number:"Ce champ requiert un nombre",integer:"Ce champ requiert un nombre entier",url:"Ce champ requiert une URL valide",tel:"Ce champ requiert un numéro de téléphone valide",maxlength:"La longueur de ce champ doit être < ${1}",minlength:"La longueur de ce champ doit être > ${1}",min:"La valeur minimum pour ce champ est ${1}",max:"La valeur maximum pour ce champ est ${1}",pattern:"Veuillez respecter le format requis"},es:{required:"Este campo es obligatorio",email:"Este campo requiere una dirección de correo electrónico válida",number:"Este campo requiere un número",integer:"Este campo requiere un número entero",url:"Este campo requiere una URL válida",tel:"Este campo requiere un número de teléfono válido",maxlength:"La longitud de este campo debe ser < ${1}",minlength:"La longitud de este campo debe ser > ${1}",min:"El valor mínimo para este campo es ${1}",max:"El valor máximo para este campo es ${1}",pattern:"Por favor, respeta el formato requerido"}}},"./src/_utils.js":
/*!***********************!*\
  !*** ./src/_utils.js ***!
  \***********************/(e,t,r)=>{r.r(t),r.d(t,{findAncestor:()=>function(e){return e.parentNode},groupedElemCount:()=>function(e){return e.nwhval.self.form.querySelectorAll('input[name="'+e.getAttribute("name")+'"]:checked').length},insertAfter:()=>function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},isFunction:()=>function(e){return!!(e&&e.constructor&&e.call&&e.apply)},mergeConfig:()=>function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},tmpl:()=>function(){var r=arguments;return this.replace(/\${([^{}]*)}/g,function(e,t){return r[t]})}})}},i={};function n(e){var t=i[e];return void 0!==t||(t=i[e]={exports:{}},r[e](t,t.exports,n)),t.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var e={};{
/*!***********************!*\
  !*** ./src/nwhval.js ***!
  \***********************/
n.r(e),n.d(e,{default:()=>t});var s=n(/*! ./_lang */"./src/_lang.js"),c=n(/*! ./_utils */"./src/_utils.js");function o(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}const t=function(){function a(e,t){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.defaultConfig={classTo:"form-group",errorClass:"is-invalid",successClass:"is-valid",errorTextParent:"form-group",errorTextTag:"div",live:!0,errorTextClass:"invalid-feedback",lang:"en"},this.form=e,this.config=(0,c.mergeConfig)(t||{},this.defaultConfig),this.NWHVAL_ERROR="nwhval-error";var o=["required","min","max","minlength","maxlength","pattern"],r=/^[a-zA-Z0-9.! #$%&'*+/=? ^_`{|}~-]+@[a-zA-Z0-9-]+(?:\. [a-zA-Z0-9-]+)*$/,l=/-message(?:-([a-z]{2}(?:_[A-Z]{2})?))?/,u=(this.validators={},this._setValidator("text",{fn:function(){return!0},priority:0},this.config.lang),this._setValidator("required",{fn:function(e){return"radio"===this.type||"checkbox"===this.type?(0,c.groupedElemCount)(this):void 0!==e&&""!==e},priority:99,halt:!0},this.config.lang),this._setValidator("email",{fn:function(e){return!e||r.test(e)}},this.config.lang),this._setValidator("number",{fn:function(e){return!e||!isNaN(parseFloat(e))},priority:2},this.config.lang),this._setValidator("integer",{fn:function(e){return!e||/^\d+$/.test(e)}},this.config.lang),this._setValidator("minlength",{fn:function(e,t){return!e||e.length>=parseInt(t)}},this.config.lang),this._setValidator("maxlength",{fn:function(e,t){return!e||e.length<=parseInt(t)}},this.config.lang),this._setValidator("min",{fn:function(e,t){return!e||("checkbox"===this.type?(0,c.groupedElemCount)(this)>=parseInt(t):parseFloat(e)>=parseFloat(t))}},this.config.lang),this._setValidator("max",{fn:function(e,t){return!e||("checkbox"===this.type?(0,c.groupedElemCount)(this)<=parseInt(t):parseFloat(e)<=parseFloat(t))}},this.config.lang),this._setValidator("pattern",{fn:function(e,t){t=t.match(new RegExp("^/(.*?)/([gimy]*)$"));return!e||new RegExp(t[1],t[2]).test(e)}},this.config.lang),e.setAttribute("novalidate","true"),this),i=e.querySelectorAll("input:not([type^=hidden]):not([type^=submit]), select, textarea");this.fields=Array.from(i).map(function(e){var n=[],a={},s={};return[].forEach.call(e.attributes,function(e){var t,r,i;/^data-pristine-/.test(e.name)?null!==(r=(t=e.name.substr(14)).match(l))?(i=void 0===r[1]?"en":r[1],s.hasOwnProperty.call(i)||(s[i]={}),s[i][t.slice(0,t.length-r[0].length)]=e.value):("type"===t&&(t=e.value),u._addValidatorToField(n,a,t,e.value)):~o.indexOf(e.name)?u._addValidatorToField(n,a,e.name,e.value):"type"===e.name&&u._addValidatorToField(n,a,e.value)}),n.sort(function(e,t){return t.priority-e.priority}),e.pristine={input:e,validators:n,params:a,messages:s,self:u}}.bind(u));for(var n=0;n<i.length;n++)"radio"===i[n].getAttribute("type")||"checkbox"===i[n].getAttribute("type")?i[n].addEventListener("change",function(e){u.validate(e.target)}):i[n].addEventListener("input",function(e){u.validate(e.target)})}var e,t,r;return e=a,(t=[{key:"_setValidator",value:function(e,t,r){t.name=e,t.msg||(t.msg=s.lang[r][e]),void 0===t.priority&&(t.priority=1),this.validators[e]=t}},{key:"_addValidatorToField",value:function(e,t,r,i){var n=this.validators[r];n&&(e.push(n),i&&((e=i.split(",")).unshift(null),t[r]=e))}},{key:"validate",value:function(t,e){if(void 0===t){e=t&&!0===e||!0===t;for(var r=this.fields,i=(!0!==t&&!1!==t&&(t instanceof HTMLElement?r=[t.pristine]:(t instanceof NodeList||t instanceof(window.$||Array)||t instanceof Array)&&(r=Array.from(t).map(function(e){return e.pristine}))),!0),n=0;r[n];n++){var a=r[n];this._validateField(a)?e||this._showSuccess(a):(i=!1,e||this._showError(a))}return i}var s;"INPUT"!==t.nodeName&&"SELECT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||(s=this.fields.find(function(e){return e.input===t}),this._validateField(s)?e||this._showSuccess(s):e||this._showError(s))}},{key:"getErrors",value:function(e){if(e)return((!e.tagName||"select"!==e.tagName.toLowerCase())&&e.length?e[0]:e).nwhval.errors;for(var t=[],r=0;r<this.fields.length;r++){var i=this.fields[r];i.errors.length&&t.push({input:i.input,errors:i.errors})}return t}},{key:"_validateField",value:function(e){for(var t=[],r=!0,i=0;e.validators[i];i++){var n=e.validators[i],a=e.params[n.name]||[];if(a[0]=e.input.value,!n.fn.apply(e.input,a)){var s,r=!1;if((0,c.isFunction)(n.msg)?t.push(n.msg(e.input.value,a)):(s=e.messages[n.name]||n.msg,t.push(c.tmpl.apply(s,a))),!0===n.halt)break}}return e.errors=t,r}},{key:"_getErrorElements",value:function(e){var t,r,i;return e.errorElements||(t=(0,c.findAncestor)(e.input,this.config.classTo),r=i=null,(i=this.config.classTo===this.config.errorTextParent?t:t.querySelector("."+this.config.errorTextParent))&&!(r=i.querySelector("."+this.NWHVAL_ERROR))&&((r=document.createElement(this.config.errorTextTag)).className=this.NWHVAL_ERROR+" "+this.config.errorTextClass,(0,c.insertAfter)(r,e.input),r.nwhvalDisplay=r.style.display),e.errorElements=[t,r])}},{key:"_showError",value:function(e){var t=this._getErrorElements(e),r=t[0],t=t[1];r&&(r.classList.remove(this.config.successClass),r.classList.add(this.config.errorClass),(r=e.input)&&r.classList.add(this.config.errorClass)),t&&(t.innerHTML=e.errors.join("<br/>"),t.style.display=t.nwhvalDisplay||"")}},{key:"addError",value:function(e,t){(e=e.length?e[0]:e).nwhval.errors.push(t),this._showError(e.nwhval)}},{key:"_removeError",value:function(e){var t=this._getErrorElements(e),r=t[0],i=t[1];return r&&(r.classList.remove(this.config.errorClass),r.classList.remove(this.config.successClass),(r=e.input)&&(r.classList.remove(this.config.errorClass),r.classList.remove(this.config.successClass))),i&&(i.innerHTML="",i.style.display="none"),t}},{key:"_showSuccess",value:function(e){e=this._removeError(e)[0],e&&e.classList.add(this.config.successClass),e=e.querySelector("input");e&&e.classList.add(this.config.successClass)}},{key:"reset",value:function(){for(var e=0;this.fields[e];e++)this.fields[e].errorElements=null;Array.from(this.form.querySelectorAll("."+this.NWHVAL_ERROR)).map(function(e){e.parentNode.removeChild(e)}),Array.from(this.form.querySelectorAll("."+this.config.classTo)).map(function(e){e.classList.remove(this.config.successClass),e.classList.remove(this.config.errorClass)})}},{key:"destroy",value:function(){this.reset(),this.fields.forEach(function(e){delete e.input.nwhval}),this.fields=[]}},{key:"setGlobalConfig",value:function(e){this.defaultConfig=e}},{key:"addValidator",value:function(e,t,r,i,n){e instanceof HTMLElement?(e.nwhval.validators.push({fn:t,msg:r,priority:i,halt:n}),e.nwhval.validators.sort(function(e,t){return t.priority-e.priority})):this._setValidator(name,{fn:t,msg:r,priority:i,halt:n})}}])&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}()}})();